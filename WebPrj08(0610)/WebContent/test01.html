<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	//자바스크립트는 한 클래스에 각 필드값 + 메소드도 다 합쳐서 하나의 클래스를 만든다. 그러니깐 한 줄에 name+kor+mat+eng+sum+avg+tostring이 다 생기는데 이거를 다시 sum , avg ,tostirng 공통된것을 prototype으로 만든다.

	//생성자 함수가 되어서 객체가 만들어진다.   문장의 그루핑
	function Student(name, kor, mat, eng, mat){
		//Field
		this.name = name; // name : name 은 객체의 생성자 
		this.kor = kor;
		this.mat = mat;
		this.eng = eng;
		this.mat = mat;
		
		// method //  this는 이 모든 조상인 window 브라우저에 getSum을 집어넣는거다. Student에 넣는게 아니라.  Student안에 이름국영수+함수들도 쫙다 적힘  그러면 메모리 낭비가 심하다...음..?
		//prototype 설명  Student객체에 공통으로 쓰는 공간에 getSum을 만들어서 넣어라. 
		//기존의 객체는   이름 
			//this.getSum = function(){
			//	return this.kor + this.eng + this.mat; 
			//}
		
		Student.prototype.getSum = function (){
			return (this.kor + this.eng + this.mat);
		}
		Student.prototype.getAvg = function () { 
			return (this.getSum()/3);
		}
		Student.prototype.toString = function (){
			var msg = '';
			msg += '이름 : ' + this.name + '<br>'; 
			msg += '합계 : ' + this.getSum() + '<br>';
			msg += '평균 : ' + this.getAvg() + '<br>';
			return msg;
		}
	}
	
	window.onload = function() {
		//자바의 메인은 자기가 실행권을 가지고 들어가지만 자바스크립트는 웹브라우저가 메인의 역할을 수행한다. main의 개념과 다르다는것을 알고 있어라.
		var s1 = new Student('은영',1,100,100,100);
		var s2 = new Student('은영',2,100,100,100);
		var s3 = new Student('은영',3,100,100,100);
		var s4 = new Student('은영',4,100,100,100);
		var s5 = new Student('은영',5,100,100,100);
		
		console.log(s1);
		
		var studs = [];
		studs.push(s1);
		studs.push(s2);
		studs.push(s3);
		studs.push(s4);
		studs.push(s5);
		
		var msg = '';
		
		for(var i in studs){	//studs 의 값을 i 에 넣고     i는 속성이 되고  value는  studs가 된다.  
			msg += '<div>';
			msg += studs[i].toString(); //studs[i]는 객체가 되는거고    .< 이거 앞은 객체 
			msg += '</div>';
		}
		var divs = document.getElementsByTagName('div') //s!!  찾아서 배열로 만들어줌 //body 의 div를 말하고
		divs[0].innerHTML = msg;
		
		var innerDivs = document.querySelectorAll('div > div') //div의 자식인 div를 찾아라.//body의 div안에 window.onload div를 말한다. 
		console.log(innerDivs)
		innerDivs.forEach(function(value,index,array){
			var div = value;
			div.style.border = '1px solid blue';
			div.style.margin = '10px'; 
			div.style.padding = '10px'; 
			div.style.width = '200px'; 
			div.style.float = 'left';
			div.style.borderRadius = '10px';
			div.style['border-radius'] = '10px'; // 자바스크립트는 객체에 접근할떄 . 으로 접근하지만 / 객체에 ''작은따옴표를 넣어서 키에 접근할 수도 있다. 이게 DOM인데 
			//div.style.border-radius = '10px'; //error 
			//div.style= ''; //이것도 가능하다.
		})
	}
</script>
</head>
<body>
	<h1>생성자 함수</h1>
	<div></div>
</body>
</html>